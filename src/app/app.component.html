<i class="fa"></i>
<div style="height: 700px">
    <x-map #xmap [Options]="_options" [Box]="_box">
        <ng-container *ngFor="let m of items; let i=index">
            <x-map-marker *ngIf="searchMatchesCheckEnd(m, filterValue, i)" [Latitude]="m.geoloc.latitude" [Longitude]="m.geoloc.longitude" [Title]="'My Marker ' + i.toString()" [IconInfo]="_iconInfo">
                <x-info-box [DisableAutoPan]="true" [Title]="m.id + ': '" [Description]="m.domain">
                    <x-info-box-action [Label]="'Click Me'" (ActionClicked)="_click(i)"></x-info-box-action>
                </x-info-box>
            </x-map-marker>
        </ng-container>
    </x-map>
</div>

<input [(ngModel)]="filterValue" (keyup)="filter()"><button (click)="filter()">Submit</button><span *ngIf="getIsLoading()" >Loading {{loadIndex}} of {{items.length}}</span>

<table>
    <tr>
        <th>Rank</th>
        <th>Domain</th>
        <th>Coordinates</th>
        <th>Hostname</th>
    </tr>
    <ng-container *ngFor="let i of items; let j=index">
        <tr *ngIf="searchMatches(i, filterValue)" (click)="onSelectedItem">
            <td>{{i.id}}</td>
            <td>{{i.domain}}</td>
            <td>{{i.geoloc.latitude}}, {{i.geoloc.longitude}}</td>
            <td>{{i.hostname}}</td>
        </tr>
    </ng-container>
</table>
